<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOC User App</title>
    <link rel="stylesheet" type="text/css" href="/styles/form-style.css">
</head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=edit" />
    <script src="/scripts/cardLoader.js" defer></script>
<body class = "body">
<!--Add header to move cards down and create a professional images-->
<!--Add two dropdown menus hegre to select which division is shown-->
    <div class = "header">
        <div class = "leftSideBar">
            <h1>INSERT ORGINZATION NAME HERE</h1>
        </div>
        <div class="rightSideBar">
            <a href="/table" role="button">Summary Page</a>
        </div>
    </div>

    <div class = "mainSection">
        <div class="card-grid" id="cardContainer">
            <h2 class="YearCard">Year <%=${year}%></h2>
            <p class="ReadOnlyCard"><strong>Read-only:</strong> ${readOnly}</p>
            ${Object.entries(tables).map(([subject, courses]) => `
              <h3 class="SubjectCard">${subject}</h3>
              <table class="TableContainerCard">
                <tbody>
                  ${Object.entries(courses).map(([course, teacher]) => `
                    <tr>
                      <td class="CourseCard">${course}</td>
                      <td class="TeacherCard">${this.isEditing && !readOnly ? `<input type="text" value="${teacher}" data-subject="${subject}" data-course="${course}">` : teacher }</td>
                    </tr>
                  `).join('')}
                </tbody>
              </table>
            `).join('')}
            <br>
            <div class="button-row">
              ${!readOnly ? `<input style="width: 100px; height: 40px; justify-self: center;" type="button" class="editbtn" value="${this.isEditing && !readOnly ? "Save" : "Edit"}"'>` : ``}
              <input style="width: 100px; height: 40px; justify-self: center;" hidden type="button" class="editbtn" value="${this.isEditing && !readOnly ? "Save" : "Edit"}"'>
              ${this.isEditing && !readOnly ? `<input style="width: 100px; height: 40px; justify-self: center;" type="button" class="cancelbtn" value="Cancel">` : ''}
            </div>
            
        </div>
    </div>
    <div class = "footer">
    </div>
</body>
</html>